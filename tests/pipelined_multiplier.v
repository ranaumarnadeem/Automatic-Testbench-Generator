module pipelined_mult(
    input clk,
    input [3:0] A, B,
    output reg [7:0] result
);
    reg [3:0] A_reg, B_reg;
    reg [7:0] mult_stage1, mult_stage2;

    always @(posedge clk) begin
        A_reg <= A;
        B_reg <= B;
        mult_stage1 <= A_reg * B_reg;
        mult_stage2 <= mult_stage1;
        result <= mult_stage2;
    end
endmodule


// ---- Auto-generated testbench ----
`timescale 1ns/1ps
module pipelined_mult_tb;
// Declare inputs and outputs
    reg clk;
    reg [3:0] A;
    reg [3:0] B;
    wire [7:0] result;

// Instantiate DUT
    pipelined_mult uut (
        .clk(clk),
        .A(A),
        .B(B),
        .result(result)
    );

// Clock generation
    initial clk = 0;
    always #5 clk = ~clk;

initial begin
     $dumpfile("pipelined_mult.vcd");
    $dumpvars(0, uut);
        #10 A = 0; B = 0;
        #10 A = 0; B = 1;
        #10 A = 0; B = 2;
        #10 A = 0; B = 3;
        #10 A = 0; B = 4;
        #10 A = 0; B = 5;
        #10 A = 0; B = 6;
        #10 A = 0; B = 7;
        #10 A = 0; B = 8;
        #10 A = 0; B = 9;
        #10 A = 0; B = 10;
        #10 A = 0; B = 11;
        #10 A = 0; B = 12;
        #10 A = 0; B = 13;
        #10 A = 0; B = 14;
        #10 A = 0; B = 15;
        #10 A = 1; B = 0;
        #10 A = 1; B = 1;
        #10 A = 1; B = 2;
        #10 A = 1; B = 3;
        #10 A = 1; B = 4;
        #10 A = 1; B = 5;
        #10 A = 1; B = 6;
        #10 A = 1; B = 7;
        #10 A = 1; B = 8;
        #10 A = 1; B = 9;
        #10 A = 1; B = 10;
        #10 A = 1; B = 11;
        #10 A = 1; B = 12;
        #10 A = 1; B = 13;
        #10 A = 1; B = 14;
        #10 A = 1; B = 15;
        #10 A = 2; B = 0;
        #10 A = 2; B = 1;
        #10 A = 2; B = 2;
        #10 A = 2; B = 3;
        #10 A = 2; B = 4;
        #10 A = 2; B = 5;
        #10 A = 2; B = 6;
        #10 A = 2; B = 7;
        #10 A = 2; B = 8;
        #10 A = 2; B = 9;
        #10 A = 2; B = 10;
        #10 A = 2; B = 11;
        #10 A = 2; B = 12;
        #10 A = 2; B = 13;
        #10 A = 2; B = 14;
        #10 A = 2; B = 15;
        #10 A = 3; B = 0;
        #10 A = 3; B = 1;
        #10 A = 3; B = 2;
        #10 A = 3; B = 3;
        #10 A = 3; B = 4;
        #10 A = 3; B = 5;
        #10 A = 3; B = 6;
        #10 A = 3; B = 7;
        #10 A = 3; B = 8;
        #10 A = 3; B = 9;
        #10 A = 3; B = 10;
        #10 A = 3; B = 11;
        #10 A = 3; B = 12;
        #10 A = 3; B = 13;
        #10 A = 3; B = 14;
        #10 A = 3; B = 15;
        #10 A = 4; B = 0;
        #10 A = 4; B = 1;
        #10 A = 4; B = 2;
        #10 A = 4; B = 3;
        #10 A = 4; B = 4;
        #10 A = 4; B = 5;
        #10 A = 4; B = 6;
        #10 A = 4; B = 7;
        #10 A = 4; B = 8;
        #10 A = 4; B = 9;
        #10 A = 4; B = 10;
        #10 A = 4; B = 11;
        #10 A = 4; B = 12;
        #10 A = 4; B = 13;
        #10 A = 4; B = 14;
        #10 A = 4; B = 15;
        #10 A = 5; B = 0;
        #10 A = 5; B = 1;
        #10 A = 5; B = 2;
        #10 A = 5; B = 3;
        #10 A = 5; B = 4;
        #10 A = 5; B = 5;
        #10 A = 5; B = 6;
        #10 A = 5; B = 7;
        #10 A = 5; B = 8;
        #10 A = 5; B = 9;
        #10 A = 5; B = 10;
        #10 A = 5; B = 11;
        #10 A = 5; B = 12;
        #10 A = 5; B = 13;
        #10 A = 5; B = 14;
        #10 A = 5; B = 15;
        #10 A = 6; B = 0;
        #10 A = 6; B = 1;
        #10 A = 6; B = 2;
        #10 A = 6; B = 3;
        #10 A = 6; B = 4;
        #10 A = 6; B = 5;
        #10 A = 6; B = 6;
        #10 A = 6; B = 7;
        #10 A = 6; B = 8;
        #10 A = 6; B = 9;
        #10 A = 6; B = 10;
        #10 A = 6; B = 11;
        #10 A = 6; B = 12;
        #10 A = 6; B = 13;
        #10 A = 6; B = 14;
        #10 A = 6; B = 15;
        #10 A = 7; B = 0;
        #10 A = 7; B = 1;
        #10 A = 7; B = 2;
        #10 A = 7; B = 3;
        #10 A = 7; B = 4;
        #10 A = 7; B = 5;
        #10 A = 7; B = 6;
        #10 A = 7; B = 7;
        #10 A = 7; B = 8;
        #10 A = 7; B = 9;
        #10 A = 7; B = 10;
        #10 A = 7; B = 11;
        #10 A = 7; B = 12;
        #10 A = 7; B = 13;
        #10 A = 7; B = 14;
        #10 A = 7; B = 15;
        #10 A = 8; B = 0;
        #10 A = 8; B = 1;
        #10 A = 8; B = 2;
        #10 A = 8; B = 3;
        #10 A = 8; B = 4;
        #10 A = 8; B = 5;
        #10 A = 8; B = 6;
        #10 A = 8; B = 7;
        #10 A = 8; B = 8;
        #10 A = 8; B = 9;
        #10 A = 8; B = 10;
        #10 A = 8; B = 11;
        #10 A = 8; B = 12;
        #10 A = 8; B = 13;
        #10 A = 8; B = 14;
        #10 A = 8; B = 15;
        #10 A = 9; B = 0;
        #10 A = 9; B = 1;
        #10 A = 9; B = 2;
        #10 A = 9; B = 3;
        #10 A = 9; B = 4;
        #10 A = 9; B = 5;
        #10 A = 9; B = 6;
        #10 A = 9; B = 7;
        #10 A = 9; B = 8;
        #10 A = 9; B = 9;
        #10 A = 9; B = 10;
        #10 A = 9; B = 11;
        #10 A = 9; B = 12;
        #10 A = 9; B = 13;
        #10 A = 9; B = 14;
        #10 A = 9; B = 15;
        #10 A = 10; B = 0;
        #10 A = 10; B = 1;
        #10 A = 10; B = 2;
        #10 A = 10; B = 3;
        #10 A = 10; B = 4;
        #10 A = 10; B = 5;
        #10 A = 10; B = 6;
        #10 A = 10; B = 7;
        #10 A = 10; B = 8;
        #10 A = 10; B = 9;
        #10 A = 10; B = 10;
        #10 A = 10; B = 11;
        #10 A = 10; B = 12;
        #10 A = 10; B = 13;
        #10 A = 10; B = 14;
        #10 A = 10; B = 15;
        #10 A = 11; B = 0;
        #10 A = 11; B = 1;
        #10 A = 11; B = 2;
        #10 A = 11; B = 3;
        #10 A = 11; B = 4;
        #10 A = 11; B = 5;
        #10 A = 11; B = 6;
        #10 A = 11; B = 7;
        #10 A = 11; B = 8;
        #10 A = 11; B = 9;
        #10 A = 11; B = 10;
        #10 A = 11; B = 11;
        #10 A = 11; B = 12;
        #10 A = 11; B = 13;
        #10 A = 11; B = 14;
        #10 A = 11; B = 15;
        #10 A = 12; B = 0;
        #10 A = 12; B = 1;
        #10 A = 12; B = 2;
        #10 A = 12; B = 3;
        #10 A = 12; B = 4;
        #10 A = 12; B = 5;
        #10 A = 12; B = 6;
        #10 A = 12; B = 7;
        #10 A = 12; B = 8;
        #10 A = 12; B = 9;
        #10 A = 12; B = 10;
        #10 A = 12; B = 11;
        #10 A = 12; B = 12;
        #10 A = 12; B = 13;
        #10 A = 12; B = 14;
        #10 A = 12; B = 15;
        #10 A = 13; B = 0;
        #10 A = 13; B = 1;
        #10 A = 13; B = 2;
        #10 A = 13; B = 3;
        #10 A = 13; B = 4;
        #10 A = 13; B = 5;
        #10 A = 13; B = 6;
        #10 A = 13; B = 7;
        #10 A = 13; B = 8;
        #10 A = 13; B = 9;
        #10 A = 13; B = 10;
        #10 A = 13; B = 11;
        #10 A = 13; B = 12;
        #10 A = 13; B = 13;
        #10 A = 13; B = 14;
        #10 A = 13; B = 15;
        #10 A = 14; B = 0;
        #10 A = 14; B = 1;
        #10 A = 14; B = 2;
        #10 A = 14; B = 3;
        #10 A = 14; B = 4;
        #10 A = 14; B = 5;
        #10 A = 14; B = 6;
        #10 A = 14; B = 7;
        #10 A = 14; B = 8;
        #10 A = 14; B = 9;
        #10 A = 14; B = 10;
        #10 A = 14; B = 11;
        #10 A = 14; B = 12;
        #10 A = 14; B = 13;
        #10 A = 14; B = 14;
        #10 A = 14; B = 15;
        #10 A = 15; B = 0;
        #10 A = 15; B = 1;
        #10 A = 15; B = 2;
        #10 A = 15; B = 3;
        #10 A = 15; B = 4;
        #10 A = 15; B = 5;
        #10 A = 15; B = 6;
        #10 A = 15; B = 7;
        #10 A = 15; B = 8;
        #10 A = 15; B = 9;
        #10 A = 15; B = 10;
        #10 A = 15; B = 11;
        #10 A = 15; B = 12;
        #10 A = 15; B = 13;
        #10 A = 15; B = 14;
        #10 A = 15; B = 15;
        $finish;
end
endmodule